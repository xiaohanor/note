---
title: 解决 UE 的中文乱码 —— TEXT() 宏的使用
---
# TEXT() 宏 \[#text-宏]

在虚幻引擎（Unreal Engine）中，`TEXT()` 宏用于将字符串字面量转换为适合当前编译环境的字符编码，以确保跨平台兼容性。具体而言，`TEXT()` 宏会根据编译器设置，将字符串字面量转换为适当的字符类型：

* **ANSI 编码**：如果未使用 `TEXT()` 宏，字符串字面量默认采用 ANSI 编码，这可能导致字符集受限，无法正确处理非英文字符。

* **Unicode 编码**：使用 `TEXT()` 宏后，字符串字面量会根据编译器设置，自动选择适当的编码方式，例如在某些平台上，`TEXT("Hello World!")` 会被展开为 `L"Hello World!"`，表示宽字符（Unicode 字符）。

因此，在虚幻引擎的 C++ 编程中，建议始终使用 `TEXT()` 宏来包裹字符串字面量，以确保在不同平台上的字符编码一致性，避免出现乱码或字符无法显示的问题。

此外，虚幻引擎提供了 `TCHAR` 类型，它是对 `char` 和 `wchar_t` 的封装，用于处理跨平台的字符编码。结合 `TEXT()` 宏和 `TCHAR` 类型，可以编写具有良好可移植性的代码。

需要注意的是，`TEXT()` 宏主要用于将字符串字面量转换为适合当前平台的编码，而在字符串处理过程中，虚幻引擎还提供了 `FString`、`FName`、`FText` 等不同的字符串类型，分别适用于不同的场景。

总之，正确使用 `TEXT()` 宏对于确保虚幻引擎应用程序在不同平台上的字符处理一致性至关重要。
