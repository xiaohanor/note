---
title: 位运算
---
位运算（bitwise operations）是在二进制位（bits）层面进行的运算。它们直接操作整数在内存中的二进制表示，是一种底层操作。位运算符包括按位与、按位或、按位异或、按位取反、左移和右移等。以下是对常见位运算的详细解释：

### 常见的位运算符 \[#常见的位运算符]

1. **按位与（AND）`&`**
   * 对应位都为1时，结果为1，否则为0。
   * 示例：
     ```cpp
     5 & 3  // 0101 & 0011 = 0001 -> 1
     ```

2. **按位或（OR）`|`**
   * 对应位只要有一个为1，结果为1。
   * 示例：
     ```cpp
     5 | 3  // 0101 | 0011 = 0111 -> 7
     ```

3. **按位异或（XOR）`^`**
   * 对应位不同，结果为1；相同，结果为0。
   * 示例：
     ```cpp
     5 ^ 3  // 0101 ^ 0011 = 0110 -> 6
     ```

4. **按位取反（NOT）`~`**
   * 将每个位取反（0变1，1变0）。
   * 示例：
     ```cpp
     ~5     // ~0101 = 1010 (对于有符号整数这是补码表示，取反会影响符号位)
     ```

5. **左移（Left Shift）`<<`**
   * 将所有位向左移动指定的次数（右侧用0填充）。
   * 示例：
     ```cpp
     5 << 1 // 0101 << 1 = 1010 -> 10
     ```

6. **右移（Right Shift）`>>`**
   * 将所有位向右移动指定的次数（左侧用符号位填充，即对正数用0填充，对负数用1填充）。
   * 示例：
     ```cpp
     5 >> 1 // 0101 >> 1 = 0010 -> 2
     ```

### 使用位运算的示例 \[#使用位运算的示例]

#### 按位与（AND）示例 \[#按位与and示例]

```cpp
#include <iostream>

int main() {
    int a = 5;  // 0101
    int b = 3;  // 0011
    int c = a & b; // 0001 -> 1
    std::cout << "5 & 3 = " << c << std::endl;
    return 0;
}
```

#### 按位或（OR）示例 \[#按位或or示例]

```cpp
#include <iostream>

int main() {
    int a = 5;  // 0101
    int b = 3;  // 0011
    int c = a | b; // 0111 -> 7
    std::cout << "5 | 3 = " << c << std::endl;
    return 0;
}
```

#### 按位异或（XOR）示例 \[#按位异或xor示例]

```cpp
#include <iostream>

int main() {
    int a = 5;  // 0101
    int b = 3;  // 0011
    int c = a ^ b; // 0110 -> 6
    std::cout << "5 ^ 3 = " << c << std::endl;
    return 0;
}
```

#### 左移（Left Shift）示例 \[#左移left-shift示例]

```cpp
#include <iostream>

int main() {
    int a = 5;  // 0101
    int c = a << 1; // 1010 -> 10
    std::cout << "5 << 1 = " << c << std::endl;
    return 0;
}
```

#### 右移（Right Shift）示例 \[#右移right-shift示例]

```cpp
#include <iostream>

int main() {
    int a = 5;  // 0101
    int c = a >> 1; // 0010 -> 2
    std::cout << "5 >> 1 = " << c << std::endl;
    return 0;
}
```

### 位运算的应用 \[#位运算的应用]

1. **快速计算**
   * 位运算速度快，因为直接操作二进制位，常用于需要高效计算的场景，如图像处理、加密算法、网络协议等。

2. **状态管理**
   * 使用位来表示多个布尔状态，常用于权限控制、标志位设置等。

3. **算法优化**
   * 某些算法通过位运算可以显著提高效率，例如哈希函数、CRC校验、位图索引等。
