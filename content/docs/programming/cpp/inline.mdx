---
title: Inline
---

在C++中，`inline` 是一个关键字，用于对函数进行声明，**指示编译器尝试在调用函数的地方直接插入函数的代码，而不是通过函数调用的方式执行。** 这样做的目的是为了减少函数调用的开销，提高程序的执行效率。

### 使用 `inline` 的情况：

1. **小型函数**：通常情况下，`inline` 最适合用于定义小型函数，这些函数的代码较短，调用频率高，因此将它们内联到调用点可以减少函数调用的开销。

2. **头文件中定义函数**：当函数的定义放在头文件中时，为了避免多次包含头文件导致多次定义函数的错误，可以使用 `inline` 关键字声明这些函数。

### 使用方法：

在函数定义或声明前加上 `inline` 关键字即可。

```cpp
// 函数定义
inline int add(int a, int b) {
    return a + b;
}

// 函数声明
inline int add(int a, int b);
```

### 注意事项：

* `inline` 关键字只是对编译器的建议，编译器并不一定会选择将函数内联。通常，编译器会根据具体情况自行决定是否进行内联，比如函数的复杂度、调用频率等。

* 如果函数定义比较复杂，或者函数体内包含循环、递归等复杂控制流程，编译器可能会忽略 `inline` 关键字。

* 如果函数的定义在类定义中，那么即使没有显式使用 `inline` 关键字，它也会被隐式地视为内联函数。

* 函数模板的定义通常放在头文件中，因此在使用函数模板时，也可以将其标记为 `inline`。
