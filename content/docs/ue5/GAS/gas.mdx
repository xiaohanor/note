---
title: GAS
---
![Pasted image 20250416162740.png](/附件/pasted-image-20250416162740.png)

对于混合复制模式：OwnerActor 的 Owner 必须是 Controller。对于 Pawn，此属性会在 PossessedBy() 中自动设置。
PlayerState 的 Owner 会自动设置为 Controller。
因此，如果您的 OwnerActor 不是 PlayerState，并且您使用混合复制模式，则必须在 OwnerActor 上调用 SetOwner() 将其 Owner 设置为 Controller。

获取 AbilitySystemComponent

```cpp
UAbilitySystemComponent* TargetASC = UAbilitySystemBlueprintLibrary::GetAbilitySystemComponent();
```

在 `AttributeSet` 中使用 `virtual void PreAttributeBaseChange(const FGameplayAttribute& Attribute, float& NewValue) const override;` 函数 限制数值。

![Pasted image 20250422161245.png](/附件/pasted-image-20250422161245.png)

函数的传入参数中，使用 `UPARAM(ref)` 关键字将非const参数作为蓝图节点的输入Pin，而非默认的输出Pin

```cpp
static void SetIsBlockedHit(UPARAM(ref) FGameplayEffectContextHandle& ContextHandle, bool bInIsBlockedHit);
```
